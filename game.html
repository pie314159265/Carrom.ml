<!DOCTYPE html>
<html>
<body>
<p>This is a test</p>

<script>
class user {
	constructor(name, passcode, wins, losses, rating) {
		var self = this
		var self.name = name;
		var self.passcode = passcode;
		temp = 0 || wins;
		var self.wins = temp;
		temp = 0 || losses;
		var self.losses = temp;
		temp = 1200 || rating;
		var self.rating = temp;
		del temp;
		self.updateData()
}

	eval_game(win, opp_rating) {

		if win === true {
			increase = 1.8 ** (opp_rating / self.rating) * 7 + 10;
			this.rating += increase;
			del increase;
			this.wins += 1
}

		else {
			decrease = 1.8 ** (opp_rating / self.rating) * 6 + 8;
			this.rating -= decrease;
			del decrease;
			this.losses += 1;

}



}

	updateData() {
		
		//return name + ' ' + str(wins) + ' ' + lo
		
		
}
}




class Game () {
	function constructor (username) {
		var self = this;
		self.LEADERLENGTH = 20;
		self.HEADERHEIGHT = 40;
		self.HEADERSIZE = 20; //refers to text size
		self.name = username;
		self.user = -1;
		updateUsers();
		if self.user == -1 {
			for (user in self.users) {
				if user.name = self.name {
					self.user = user;
				}
				
				
			}
			
			if user === -1 {
				alert('user not found');
			}
		}
		
				
			
			
		
	
	function updateUsers()	{
		self.users = readFile();

	}	
			
	function getLeaderboard () {
		updateUsers();
		leaderboard = [];
		for (user in self.users) {
			if user.rating > leaderboard[leaderboard.length-1] || leaderboard.length < self.LEADERLENGTH {
				del leaderboard[leaderboard.length-1];
				
				for (index=1, index <= leaderboard.length, index ++) {
					if user.rating < leaderboard[index].rating {
						leaderboard.splice(index + 1, 0, user) //insert after
						break;
					}
					
				}
			}
		}
		
		
	}
		
	function drawLeaderboard () {
		<table id = 'leaderboard' 
		style='color: Black; background-color: Gray;border-radius:10px;-moz-border-radius:10px;-webkit-border-radius:10px'>
		<caption> Leaderboard </caption>
		for (index=1, index <= leaderboard.length, index++) {
			var leader = leaderboard[index]
			<tr>
			<td> str(index) + '.' </td>
			<td> leader.name </td>
			<td> str(leader.rating) </td>
			</tr>
		}
	
	</table>
		
	}

		
	function drawHeader () {
		<input id ='menubox' type='text' disabled='disabled' 
		value='Menu' style='background-color:Gray; color:Black; text-align:center; width:100px;'/> 
		document.getElementById('menu').height = self.HEADERHEIGHT
		document.getElementById('menu').font-size = self.HEADERSIZE // !!help here why is size yellow
		
		<input id ='userbox' type='text' disabled='disabled' 
		style='background-color:Orange; color:Black; text-align:center; width:100px;'/> 
		document.getElementById('userbox').height = self.HEADERHEIGHT
		document.getElementById('userbox').font-size = self.HEADERSIZE
		document.getElementById('userbox').value = self.user.name
		
		<input id ='mainbox' type='text' disabled='disabled' 
		value='Menu' style='background-color:Orange; color:Gray; text-align:center; width:250px;'/> 
		document.getElementById('mainbox').height = self.HEADERHEIGHT
		document.getElementById('mainbox').font-size = self.HEADERSIZE
		
		<input id ='winsbox' type='text' disabled='disabled' 
		style='background-color:Green; color:Black; text-align:center; width:50px;'/> 
		document.getElementById('winsbox').height = self.HEADERHEIGHT
		document.getElementById('winsbox').font-size = self.HEADERSIZE
		document.getElementById('winsbox').value = str(self.user.wins)
		
		<input id ='lossesbox' type='text' disabled='disabled' 
		style='background-color:Red; color:Black; text-align:center; width:50px;'/> 
		document.getElementById('lossesbox').height = self.HEADERHEIGHT
		document.getElementById('lossesbox').font-size = self.HEADERSIZE
		document.getElementById('lossesbox').value = str(self.user.losses)
		
		<input id ='ratingbox' type='text' disabled='disabled' 
		style='background-color:Red; color:Yellow; text-align:center; width:50px;'/> 
		document.getElementById('ratingbox').height = self.HEADERHEIGHT
		document.getElementById('ratingbox').font-size = self.HEADERSIZE
		document.getElementById('ratingbox').value = 'Rating: ' + str(self.user.rating)
		
		
		
		
		
	}
		
    
    
    }
		
		
		
		
		
	}
	
	
	
	
}

function readFile(evt) {
	  
	  
    //Retrieve the first (and only!) File from the FileList object
    var f = evt.target.files[0]; 
    if (f) {
      var r = new FileReader();
      r.onload = function(e) { 
	      var contents = e.target.result;
        alert( "Got the file\n" 
              +"name: " + f.name + "\n"
              +"type: " + f.type + "\n"
              +"size: " + f.size + " bytes\n"
              + "starts with: " + contents.substr(0, contents.indexOf("\n"))
        );
	      alert(contents);
	      var users = [];
	      var rows = contents.split('csv line seperating char');
	      del rows[0];
	      for (var row in rows) {
		      //need to get user class in here
		      //username password wins losses rating
		      var user = new User(row[0], row[1], row[2], row[3], row[4]);
		      users.push(user)
		      }
	      del rows
	      del user
	      return users
		      
	      }
	      }
		
      }
      r.readAsText(f);
    } else { 
      alert("Failed to load file");
    }
  }
  document.getElementById('fileinput').addEventListener('change', readFile, false);
	
	
//________________________________________________________________________________________________________________

function main () {
	var game = new Game()
	
}
</script>

</body>
</html>
